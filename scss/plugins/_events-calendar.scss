////
// Styles for events generated by the WordPress 'The Events Calendar' plugin
////


////
// Events view: General
////

// Remove margin/padding for the first non-featured event in a list
.tribe-events-list-separator-month+.type-tribe_events.tribe-events-first {
  padding-top: 0;
  margin-top: 0;
}

// Hide the header with navigation links
#tribe-events-header {
  display: none;
}


////
// Events view: Filter bar
////

// Styles and sizing for the Tribe events filter bar
#tribe-bar-form {
  background-color: $white;
  border: 2px solid $warning-color;

  label,
  &.tribe-bar-mini label {
    font-size: 16px;
    font-weight: $global-weight-bold;
    text-transform: none;
  }

  input[type=text] {
    @include base-input-zf;
    @include base-input;
    font-style: normal;
    margin: 0;

    &::placeholder {
      font-style: normal;
      color: $medium-gray;
    }
  }

  .tribe-bar-submit {
    margin: 0;

    input[type=submit] {
      @include button-base;
      @include button-primary-hollow;
    }
  }

  // Large display sizes
  .tribe-bar-filters-inner {
    display: flex;
    flex-flow: row nowrap;
    align-items: center;
  }
  .tribe-bar-date-filter,
  .tribe-bar-search-filter,
  .tribe-bar-submit {
    padding: 16px;
  }
  .tribe-bar-date-filter {
    width: 25%;
  }
  .tribe-bar-search-filter {
    width: 45%;
  }
  .tribe-bar-submit {
    width: 30%;
  }

  // Medium display sizes
  &.tribe-bar-mini {
    .tribe-bar-date-filter,
    .tribe-bar-search-filter,
    .tribe-bar-submit {
      padding: 16px;
    }
    .tribe-bar-date-filter {
      width: 30%;
      
      input {
        padding-left: ($base * 1.5);
        padding-right: ($base * 1.5);
      }
    }
    .tribe-bar-search-filter {
      width: 40%;
    }
    .tribe-bar-submit {
      width: 30%;
    }
  }

  // Small display sizes
  &.tribe-bar-collapse {
    .tribe-bar-filters-inner {
      display: block;
    }
    .tribe-bar-date-filter,
    .tribe-bar-search-filter,
    .tribe-bar-submit {
      width: 100%;
    }
    .tribe-bar-views-inner {
      padding: 16px 0 34px;
    }
  }
}

// Style the 'view as' dropdown selector
#tribe-bar-views {
  // Override a more specific selector with !important
  padding-left: 0 !important;

  .tribe-bar-views-inner {
    padding: 25px 0 55px;
  }

  .tribe-bar-views-list {
    z-index: 10;

    .tribe-bar-views-option {
      
      a,
      &.tribe-bar-active a {
        font-weight: $global-weight-normal;

        &:hover {
          border: none;
          animation: none;
          background-color: $medium-gray;
        }
      }
    }
  }
}

// Style the mobile filter bar toggle
.tribe-bar-collapse #tribe-bar-collapse-toggle {
  height: 66px;
  font-size: ($base * 2);
  font-weight: $global-weight-bold;
  text-transform: none;
  line-height: ($base * 4.5);

  .tribe-bar-toggle-arrow {
    margin-top: 3px;
  }
}


////
// Events view: List dispaly
////

// Style the month heading separator
.tribe-events-list-separator-month:after {
  border-bottom: 4px dotted $success-color;
  height: 4px;
}

// Styles for events
.tribe-events-list {
  // Style the event
  .type-tribe_events {
    margin-bottom: ($base * 8);
  }
  
  // Style the event title
  .type-tribe_events h2 {
    font-size: 1.4em;
  }
  
  // Style the event date and time
  .tribe-event-schedule-details,
  .time-details {
    font-weight: $global-weight-bold;
    font-size: ($base * 2);

    @include breakpoint(medium) {
      font-size: ($base * 2.5);
    }
  }

  // Style the event venue information
  .tribe-events-venue-details {
    margin: ($base * 0.5) 0 ($base * 3);
    font-size: ($base * 1.75);
    line-height: 1.4;

    @include breakpoint(medium) {
      font-size: ($base * 2);
    }
  }
  
  .tribe-events-loop {
    // Style the event image
    .tribe-events-event-image {
      margin-right: ($base * 2);
      margin-bottom: ($base * 2);
      width: 40%;

      @include breakpoint(medium) {
        margin-right: ($base * 3);
        margin-bottom: ($base * 3);
        width: 30%;
      }
      
      // Apply default styles to event image
      img {
        @include img-dot;
      }
    }
    
    // Styles for featured events
    .tribe-event-featured {
      background-color: $secondary-color;
      border-radius: ($base * 6);
      padding: 2rem;
      
      @include breakpoint(medium) {
        border-radius: ($base * 10);
        padding: 3rem;
      }

      a:hover {
        color: white;
        animation: none;
      }

      .tribe-event-schedule-details,
      .tribe-events-venue-details,
      .tribe-events-content,
      .tribe-events-read-more,
      .tribe-events-gmap,
      .time-details {
        color: $white;
      }
      
      .tribe-events-event-image {
        width: 60%;
        margin: 0 auto;
      }

      &.tribe-events-first {
        padding-top: 2rem;
      }
    }
  
    // Remove background color, border, and padding on small display sizes for
    // the time and venue information
    .tribe-events-event-meta {
      background: none;
      border: none;
      padding: 0;
    }
  }

  // Remove borders and padding displayed on small display sizes for the time,
  // and venue information
  .tribe-event-schedule-details,
  .tribe-events-venue-details,
  .time-details {
    border-top: 0;
    padding: 0;
  }

  // Fix display of Google maps link on small display sizes
  a.tribe-events-gmap {
    display: inline;
  }
}


////
// Events view: Month display
////
#tribe-events-content {
  // Style hover affect for links in the calendar
  .tribe-events-calendar {
    //Style active day on small display sizes
    .mobile-active:hover,
    .mobile-active div[id*=tribe-events-daynum-],
    .mobile-active div[id*=tribe-events-daynum-] a,
    td.mobile-active {
      background-color: $warning-color;
      color: $white;
      font-weight: $global-weight-bold;
    }
  }

  // Style hover effects for calendar links
  div[id*=tribe-events-daynum-] a:hover,
  .mobile-active div[id*=tribe-events-daynum-] a:hover {
    color: $alert-color;
    border: none;
  }

  // Style the calendar days for next month dates
  td.tribe-events-othermonth {
    background: lighten($light-gray, 5);
  }
  
  @include breakpoint(medium) {
    .tribe-events-calendar {

      // Style the calendar header containing the weekdays
      thead th {
        color: $white;
        background-color: $dark-gray;
        font-weight: $global-weight-bold;
        font-size: ($base * 1.75);
        border-left: none;
        border-right: none;
      }
      
      // Style the calendar day headers for current month dates
      div[id*=tribe-events-daynum-],
      div[id*=tribe-events-daynum-] a {
        background-color: darken($medium-gray, 5);
        color: $white;
        font-weight: $global-weight-bold;
        font-size: ($base * 1.75);
        text-align: center;
      }

      // Style hover effects for calendar links
      div[id*=tribe-events-daynum-] a:hover {
        color: $alert-color;
      }
      
      // Style the calendar day headers for past dates
      td.tribe-events-past div[id*=tribe-events-daynum-],
      td.tribe-events-past div[id*=tribe-events-daynum-]>a {
        background-color: darken($light-gray, 5);
      }
      
      // Style the calendar days
      td {
        border: 1px solid darken($medium-gray, 5);
      }
    }
  }
}

// Style the events displayed on the calendar
.events-archive.events-gridview
#tribe-events-content
table
.type-tribe_events {
  margin: 0;
  padding: ($base * 0.5);

  a:hover {
    border: none;
  }
}

// Style featured events displayed on the calendar
#tribe-events-content
table.tribe-events-calendar
.type-tribe_events.tribe-event-featured {
  background: $secondary-color;
}

// Style the hover effects of links for featured events displayed on the calendar
#tribe-events-content
table.tribe-events-calendar
.type-tribe_events.tribe-event-featured
.tribe-events-month-event-title
a:hover {
  color: $alert-color;
}

// Style the tooltips that appear for events on the calendar
#tribe-events-content {
  .tribe-events-tooltip {
    border-radius: 20px;
    padding: ($base * 2);
    z-index: 1;

    .entry-title {
      color: $primary-color;
      font-weight: $global-weight-bold;
      font-size: ($base * 3);
      margin-top: 0;
    }
    
    .tribe-event-duration {
      font-size: ($base * 1.75);
      font-weight: $global-weight-bold;
      margin: ($base * 0.5) 0;
    }

    .tribe-events-event-thumb {
      margin: ($base * 2);
      margin-left: 0;
      padding: 0;

      img {
        @include img-dot;
      }
    }

    &.tribe-event-featured .tribe-events-event-thumb {
      width: 100%;
      margin-right: 0;
      text-align: center;
    }
    
    .tribe-event-description p {
      @include breakpoint(medium) {
        font-size: ($base * 2);
      }
    }
  }
}

// Style the date heading for small display sizes
.tribe-mobile-day-heading {
  font-size: ($base * 3);
}

// Style the display of events on small display sizes
.tribe-events-mobile {
  .tribe-events-event-schedule-details {
    font-weight: $global-weight-bold;
  }

  .tribe-events-event-image {
    a:hover {
      border: none;
    }

    img {
      @include img-dot;
      margin: $base;
      margin-left: 0;
    }
  }

  // Fix shifting on hover due to added bottom-border
  .tribe-events-read-more {
    padding-bottom: 2px;

    &:hover {
      padding-bottom: 0;
    }
  }
}


////
// Events view: Day display
////

// Style the time header shown in the 'Day' view
.tribe-events-day .tribe-events-day-time-slot h5 {
  font-size: ($base * 3);
  margin: 1.5em 0 0.25em;
  padding: 0;
  background: none;
  color: $black;
}

////
// Events view: Buttons
////

// Style the event action buttons
#tribe-events .tribe-events-button,
#tribe-events-footer~a.tribe-events-ical.tribe-events-button {
  @include button-base;
  @include button-primary-hollow;
  height: inherit;
}

// Style navigation links at bottom of events page
#tribe-events-header,
#tribe-events-footer {
  border-top: none;
  
  .tribe-events-sub-nav {
    
    .tribe-events-nav-next,
    .tribe-events-nav-previous {
      box-sizing: border-box;
      display: block;
      margin: 0;
      width: inherit;
      height: 34px;

      a {
        @include base-link;
        background: none;
        padding: 0;
      }
    }

    .tribe-events-nav-left a span,
    .tribe-events-nav-right a span {
      display: inline;
      position: static;
    }
  }
}


////
// Events view: Components
////

// Style the event notification alert
.tribe-events-notices {
  @include alert-base;
  @include alert-information;
  text-shadow: none;
}

// Custom styles for the animated loader
.tribe-events-ajax-loading {
  background-color: $white;
  margin-left: -47px;
  border-radius: 100%;
  border: 1px solid $medium-gray;
  box-shadow: 0 4px 16px 2px rgba(0, 0, 0, 0.4);

  .tribe-events-spinner-medium {
    height: 64px;
    width: 64px;
  }
}

// Custom styles for the datepicker
.datepicker {
  // Keep datepicker above the fixed navbar. The element is
  // given inline styles by JS, necessitating the !important.
  &.dropdown-menu {
    z-index: 100 !important;
  }

  td {
    border-top: none;
  }
  
  // Day,  month, year, etc. selectors
  table tr td {
    span,
    &.day {
      border-radius: 100%;

      &:hover {
        color: $white;
        background-color: $warning-color;
      }
    }

    span {
      line-height: 44px;
      height: 44px;
      width: 44px;
    }

    &.day {
      height: 28px;
      width: 28px;
    }
  }

  // Next/previous header buttons
  .prev,
  .next {
    height: 28px;
    width: 28px;

    &:hover {
      border-radius: 100%;
      background-color: $primary-color;
      color: $white;
    }
  }
}


////
// Single Event view
////

// Style the back to events link
.tribe-events-back {
  margin-top: ($base * 4);
  font-size: ($base * 2);

  a {
    font-weight: $global-weight-normal;
  }
}

// Style the event date and time
.single-tribe_events .tribe-events-schedule {
  background: none;
  border: none;
  margin: ($base * 2) 0;
  padding: 0;
  
  h2 {
    margin-top: 0;
  }
}

// Style the event featured image
.single-tribe_events .tribe-events-event-image {
  text-align: center;
  margin-bottom: ($base * 3);

  @include breakpoint(medium) {
    float: left;
    margin-right: ($base * 3);
  }

  img {
    @include img-dot;
  }
}

// Style the calendar import links
.single-tribe_events .tribe-events-cal-links {
  text-align: center;
}

// Style the Google maps link for venue
a.tribe-events-gmap {
  display: inline-block;
  padding-bottom: 2px;

  &:hover {
    padding-bottom: 0;
  }

  @include breakpoint(medium) {
    padding-bottom: 4px;
  }
}

// Remove the horizontal rule at the bottom of single events page
.single-tribe_events
#tribe-events-footer {
  border-top: none;
}